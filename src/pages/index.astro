---
import Greetings from '../components/Greetings.astro'
import Layout from '../layouts/Layout.astro'
import { getCollection } from 'astro:content'
import PostCard from '../components/PostCard.astro'

const posts = (await getCollection('blog')).sort(
  (a, b) => b.data.date.valueOf() - a.data.date.valueOf()
)
---

<Layout title='Home'>
  <Greetings />
  <section class="mt-16">
    <h2 class="text-2xl sm:text-3xl font-bold mb-6 sm:mb-8 text-center">Latest Blog Posts</h2>
    <div class="grid gap-6 sm:gap-8 sm:grid-cols-2 lg:grid-cols-3">
      {posts.slice(0, 3).map((post) => <PostCard post={post} />)}
    </div>
    <div class="text-center mt-6 sm:mt-8">
      <a href="/blog" class="inline-block px-4 py-2 rounded-full bg-gradient-to-br from-blue-500 to-indigo-600 text-white font-medium text-sm sm:text-base transition-all duration-300 hover:shadow-lg hover:scale-105">
        View All Posts
      </a>
    </div>
  </section>
</Layout>
